<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Introduction to Data Analysis with Python</title>
<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/cci.css">
<link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
<!-- Theme used for syntax highlighting of code -->
<link rel="stylesheet" href="lib/css/zenburn.css">
<!-- Printing and PDF exports -->
<script>
var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>
</head>
<body>
<div class="reveal">
<!-- Header logo -->
<!--img style="position:fixed;top:1em;right:1em;" src="img/logo_cci.png" width="15%"-->
<!-- Slide Title -->
<header style="position: absolute;top: 1em; left: 1em; z-index:10;"></header>



<!-- ---------------------- START OF SLIDES -------------------------- -->



<div class="slides">

<section data-menu-title="Title">
<h2>Introduction to Data Analysis with Python - part 2</h2>
<h4>Erick Martins Ratamero<br>Research Fellow</h4>
</section>

<section data-menu-title="Summary" data-state="intro0"><style>.intro0 header:after { content: "Summary"; }</style>
<ul>
<li>These slides: http://tiny.cc/camdupython2 (redirects to https://erickmartins.github.io/DataAnalysisPython.html)</li>	
<li>Some relevant libraries</li>
<li>String manipulation</li>
<li>File input/output</li>
<li>Plotting</li>
<li>If we have time: introduction to pandas and numpy</li> 
</ul>
</section>


<section data-menu-title="Libraries" data-state="intro1"><style>.intro1 header:after { content: "These are some relevant libraries"; }</style>
<ul>
<li><b><u><i>numpy:</i></u></b> NUMerical PYthon. Has multidimensional arrays, basic linear algebra, Fourier transforms, random number generation...</li>	
<li><b><u><i>scipy:</i></u></b> SCIentific PYthon. Higher-level science and engineering modules (optimization, e.g.).</li>	
<li><b><u><i>matplotlib:</i></u></b> Plotting library. Histograms, line plots, heat plots...</li>	
<li><b><u><i>pandas:</i></u></b> Structured data manipulation and operations. Data scientists love this one.</li>	
<li><b><u><i>seaborn:</i></u></b> Also does plotting, but it looks nice compared to matplotlib.</li>	
<li><b><u><i>os:</i></u></b> Opeating system stuff and file operations.</li>
	</ul>
</section>




<section data-menu-title="Strings" data-state="strings"><style>.strings header:after { content: "String manipulation"; }</style>
<p>We've talked a little bit about strings before.</p>
<p>What if we want a string containing a quote?</p>
 <pre><code class="python">string = 'That is Erick's presentation</code></pre> won't work.
<p>Fix: use double quotes! </p>
<pre><code class="python">string = "That is Erick's presentation"</code></pre> works!</p>
<p>What if we need double quotes in the string?</p>
</section>

<section data-state="strings"><style>.strings  header:after { content: "String manipulation"; }</style>

Escape characters allow you to use a character that would otherwise be impossible to be put into a string! Just use the reverse slash (\) before the character.
<ul>
<li><b><code> \'</b> Single quote</code></li>	
<li><b><code> \"</b> Double quote</code></li>	
<li><b><code> \t</b> Tab</code></li>	
<li><b><code> \n</b> New line (or line break)</code></li>	
<li><b><code> \\</b> backslash</code></li>	
</ul>
<pre><code class="python">>>> print("Hello there!\nHow are you?\nI\'m doing fine.")</code>
Hello there!
How are you?
I'm doing fine.</pre>
</section>

<section data-state="strings"><style>.strings  header:after { content: "String manipulation"; }</style>
<div><img  src="img-py/helloworld.png"/></div>
<p>Strings use indexing the same way lists do. It's just a list of characters! The space and exclamation points count, so 'Hello world!' has 12 characters (from 0 to 11).</p>
<pre><code class="python">>>> test = 'Hello world!'
>>> test[0]
'H'
>>> test[4]
'o'
>>> test[-1]
'!'
>>> test[0:5]
'Hello'
>>> test[:5]
'Hello'
>>> test[6:]
'world!'</code></pre>
</section>

<section data-state="strings"><style>.strings  header:after { content: "String manipulation"; }</style>

<p>The <code>in</code> and <code>not in</code> operators work for strings as well as lists (have I mentioned that strings are just lists of characters?). It will return <code>True</code> or <code>False</code>.</p>
<pre><code class="python">>>> 'Hello' in 'Hello world!'
True
>>> 'Hello' in 'Hello'
True
>>> 'HELLO' in 'Hello world!'
False
>>> '' in 'test'
True
>>> 'cats' not in 'cats and dogs'
False</code></pre>
</section>


<section data-state="strings"><style>.strings  header:after { content: "String manipulation"; }</style>

<p>The <code>startswith()</code> and <code>endswith()</code> methods return <code>True</code> if the string they are called on begins or (respectively) ends with the string passed to the method.</p>
<pre><code class="python">>>> 'Hello world!'.startswith('Hello')
True
>>> 'Hello world!'.endswith('world!')
True
>>> 'abc123'.startswith('abcdef')
False
>>> 'abc123'.endswith('12')
False
>>> 'Hello world!'.startswith('Hello world!')
True
>>> 'Hello world!'.endswith('Hello world!')
True
</code></pre>
</section>

<section data-state="strings"><style>.strings header:after { content: "String manipulation"; }</style>

<p>The <code>join()</code> and <code>split()</code> do what you expect them to do. <code>split()</code> can take a string argument and will split the string upon the occurrence of this argument. It is especially useful when dealing with CSV files, as we will see later.</p>
<pre><code class="python">>>> ', '.join(['cats', 'rats', 'bats'])
'cats, rats, bats'
>>> ' '.join(['My', 'name', 'is', 'Simon'])
'My name is Simon'
>>> 'ABC'.join(['My', 'name', 'is', 'Simon'])
'MyABCnameABCisABCSimon'
>>> 'My name is Simon'.split()
['My', 'name', 'is', 'Simon']
>>> 'MyABCnameABCisABCSimon'.split('ABC')
['My', 'name', 'is', 'Simon']
>>> 'My name is Simon'.split('m')
['My na', 'e is Si', 'on']
</code></pre>
</section>


<section data-state="strings"><style>.strings header:after { content: "String manipulation"; }</style>

<p>We can use <code>strip()</code> and its friends to remove whitespace characters (space, tab, newline) from the ends of a string. It returns a new string without the whitespaces.</p>
<pre><code class="python">>>> spam = '    Hello World     '
>>> spam.strip()
'Hello World'
>>> spam.lstrip()
'Hello World     '
>>> spam.rstrip()
'    Hello World'
</code></pre>
<p>Alternatively, you can tell <code>strip()</code> which characters you want to remove.</p>
<pre><code class="python">>>> spam = 'SpamSpamBaconSpamEggsSpamSpam'
>>> spam.strip('ampS')
'BaconSpamEggs'
</code></pre>
</section>

<section data-menu-title="String Exercises" data-state="stringsex"><style>.stringsex header:after { content: "String exercises!"; }</style>

<ul>
<li>Write a Python program to calculate the length of a string.</li>	
<li>Write a Python program to add 'ing' at the end of a given string (length should be at least 3). If the given string already ends with 'ing' then add 'ly' instead. If the string length of the given string is less than 3, leave it unchanged. ('abc' returns 'abcing', 'string' returns 'stringly', etc etc) </li>	
</ul>
</section>

<section data-state="stringsex"><style>.stringsex header:after { content: "String exercises!"; }</style>

<p>Sample solution 1</p>
<pre><code class="python">def string_length(str1):
    count = 0
    for char in str1:
        count += 1
    return count
print(string_length('test'))</code></pre>
</section>

<section data-state="stringsex"><style>.stringsex header:after { content: "String exercises!"; }</style>

<p>Sample solution 2</p>
<pre><code class="python">def add_string(str1):
  length = len(str1)

  if length > 2:
    if str1[-3:] == 'ing':
      str1 += 'ly'
    else:
      str1 += 'ing'

  return str1
print(add_string('ab'))
print(add_string('abc'))
print(add_string('string'))</code></pre>
</section>



<section data-menu-title="File input/output" data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>
<ul>
<li>Every file contains three key pieces of information: <i>path, filename</i> and <i>extension</i>.</li>	
<ul>
	<li><i>path:</i> indicates in which folder the file exists. Can be something like <code>C:\Users\User1\Desktop\</code> on Windows and <code>/home/User1/Desktop</code> on Mac/Linux.</li>
	<li><i>filename:</i> the actual name of the file. Can be essentially anything you want except for some special characters.</li>
	<li><i>extension: </i> indicates the file type. Common extensions are <code>.doc, .xls, .txt</code> and so on. They are often hidden in Windows.</li>
</ul>
</ul>
<p>As you can see from the examples, Windows has a different way of indicating folders compared to Mac/Linux, including some weird backslashes.</p>
<p>If you want your code to run in any system, it needs to be aware of which system it is! <code>os.paht.join() is your best friend. </code></p>
<pre><code>>>> import os
>>> os.path.join('usr', 'bin', 'spam')
'usr\\bin\\spam'</code></pre>
</section>

<section data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>
<p>Every program has a <i>current working directory</i> - every path that doesn't start with the root folder (C:\ on Windows, / on Mac/Linux) is presumed to be inside the current working directory.</p>
<pre><code>>>> import os
>>> os.getcwd()
'C:\\Python34'
>>> os.chdir('C:\\Windows\\System32')
>>> os.getcwd()
'C:\\Windows\\System32'</code></pre>
<p>File paths can be <i>absolute</i> (starts with root directory) or <i>relative</i> (from the current working directory).</p>
<div><img  src="img-py/paths.jpg" width="60%"/></div>
</section>

<section data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>

<p>Some additional <code>os</code> functions that can be useful:</p>
<pre><code class="python">>>> os.path.abspath('.\\Scripts')
'C:\\Python34\\Scripts'
>>> os.path.relpath('C:\\Windows', 'C:\\spam\\eggs')
'..\\..\\Windows'
>>> os.getcwd() 
'C:\\Python34'
>>> path = 'C:\\Windows\\System32\\calc.exe'
>>> os.path.basename(path)
'calc.exe'
>>> os.path.dirname(path)
'C:\\Windows\\System32'
>>> os.path.split(path)
('C:\\Windows\\System32', 'calc.exe')
>>> os.path.exists('C:\\Windows')
True
>>> os.path.exists('C:\\some_made_up_folder')
False
>>> os.path.isdir('C:\\Windows\\System32')
True
>>> os.path.isfile('C:\\Windows\\System32')
False
>>> os.path.isdir('C:\\Windows\\System32\\calc.exe')
False
>>> os.path.isfile('C:\\Windows\\System32\\calc.exe')
True
</code></pre>
</section>

<section data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>

<p>For finding everything that is inside a folder, use <code>os.listdir(path)</code>:</p>
<pre><code class="python">>>> os.listdir('C:\\Windows\\System32')
['0409', '12520437.cpx', '12520850.cpx', '5U877.ax', 'aaclient.dll',
--snip--
'xwtpdui.dll', 'xwtpw32.dll', 'zh-CN', 'zh-HK', 'zh-TW', 'zipfldr.dll']</code></pre>
<p>If you want to recursively go into every subfolder, you will need something like this:</p>
<pre><code class="python">>>> import os
>>> path = '/home/erick/Desktop'
>>> for root,dirs,files in os.walk('.'):
...     print("current directory is "+root)
...     print("immediate subdirectories are "+' '.join(dirs))
...     print("files in this subfolder are "+' '.join(files))
... 
current directory is .
immediate subdirectories are js img-ia css .git plugin test img img-py lib material
files in this subfolder are test.md bower.json handout.png DataAnalysisPython.html package.json LICENSE ImageAnalysisWithFiji.html CONTRIBUTING.md index.html README.md Gruntfile.js README_REVEAL.md IntroPython.html ImageAnalysis.html
current directory is ./js
(...)
</code></pre>
</section>



<section data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>
<p>To read or write files, you first need to open them. Try saving the file <a href="material/hello.txt">hello.txt</a> file on your home folder and then opening it:</p>
<pre><code class="python">>>> helloFile = open('C:\\Users\\your_home_folder\\hello.txt')</code></pre>
<p>Or if you're Mac/Linux</p>
<pre><code class="python">>>> helloFile = open('/Users/your_home_folder/hello.txt')</code></pre>
<p>This will open the file in <i>read-only</i> mode. If you want to open the file in <i>write</i> mode:</p>
<pre><code class="python">>>> helloFile = open('/Users/your_home_folder/hello.txt', 'w')</code></pre>

</section>


<section data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>
<p>Two ways of reading the contents of a file (try it yourself with the <a href="material/sonnet29.txt">sonnet29.txt</a> file):</p>
<pre><code class="python">>>> f = open('/Users/your_home_folder/sonnet29.txt')
>>> f.read()
"When, in disgrace with fortune and men's eyes,\nI all alone beweep my outcast state,\nAnd trouble deaf heaven with my bootless cries,\nAnd look upon myself and curse my fate,"
>>> f2 = open('material/sonnet29.txt')
>>> f2.readlines()
["When, in disgrace with fortune and men's eyes,\n", 'I all alone beweep my outcast state,\n', 'And trouble deaf heaven with my bootless cries,\n', 'And look upon myself and curse my fate,']
</code></pre>

</section>

<section data-state="fileio"><style>.fileio header:after { content: "File input/output"; }</style>
<p>Now let's try writing to a file. Remember: we need to use <i>'w'</i> when opening it. After that, we just need to use the <i>write</i> method:</p>
<pre><code class="python">>>> myFile = open('test.txt', 'w')
>>> myFile.write('Hello world!\n')
>>> myFile.close()
>>> myFile = open('test.txt', 'a')
>>> myFile.write('This is a nice extra message!')
>>> myFile.close()
>>> myFile = open('test.txt')
>>> content = myFile.read()
>>> myFile.close()
>>> print(content)
Hello world!
This is a nice extra message!
</code></pre>

</section>

<section data-menu-title="File Exercises" data-state="fileex"><style>.fileex header:after { content: "File exercises!"; }</style>

<ul>
<li>Write a Python program to print the first 5 lines of the <a href="material/cereal.csv">cereal.csv</a> file.</li>	
<li>Write a Python program to print the first 5 columns of the <a href="material/cereal.csv">cereal.csv</a> file.</li>
<li>Write a Python program to print all lines of the <a href="material/cereal.csv">cereal.csv</a> file where <b>calories >= 120</b>.</li>
</ul>
</section>


<section data-state="fileex"><style>.fileex header:after { content: "File exercises!"; }</style>

<p>Sample solution 1</p>
<pre><code class="python">import os
os.chdir('Whatever directory your cereal.csv file is in')

f = open('cereal.csv')
lines = f.readlines()
for i in range(5):
    print(lines[i])
         
f.close()</code></pre>
</section>

<section data-state="fileex"><style>.fileex header:after { content: "File exercises!"; }</style>

<p>Sample solution 2</p>
<pre><code class="python">import os
os.chdir('Whatever directory your cereal.csv file is in')

f = open('cereal.csv')
lines = f.readlines()
for line in lines:
    line_split = line.split(',')
    print(','.join(line_split[:5])+'\n')
         
f.close()</code></pre>
</section>


<section data-state="fileex"><style>.fileex header:after { content: "File exercises!"; }</style>

<p>Sample solution 3</p>
<pre><code class="python">import os
os.chdir('Whatever directory your cereal.csv file is in')

f = open('cereal.csv')
lines = f.readlines()[1:]
for line in lines:
    line_split = line.split(',')
    cal = int(line_split[3])
    if (cal >= 120):
        print(line)
         
f.close()</code></pre>
</section>

<section data-menu-title="Plotting" data-state="plotting"><style>.plotting header:after { content: "Plotting"; }</style>

<p>Our best friend in this section will be <code class="python">matplotlib.pyplot</code></p>
<pre><code class="python">import matplotlib.pyplot as plt</code></pre>
<img src="img-py/figure.webp">

</section>

<section data-state="plotting"><style>.plotting header:after { content: "Plotting"; }</style>


<img src="img-py/anatomy.webp">

</section>


<section data-state="plotting"><style>.plotting header:after { content: "Plotting"; }</style>

<p>Let's start with an advanced example and then move back to the basics.</p>
<pre><code class="python">import matplotlib.pyplot as plt
import numpy as np

rng = np.arange(50)
rnd = np.random.randint(0, 10, size=(3, rng.size))
yrs = 1950 + rng

fig, ax = plt.subplots(figsize=(5, 3))
ax.stackplot(yrs, rng + rnd, labels=['Eastasia', 'Eurasia', 'Oceania'])
ax.set_title('Combined debt growth over time')
ax.legend(loc='upper left')
ax.set_ylabel('Total debt')
ax.set_xlim(left=yrs[0], right=yrs[-1])
fig.tight_layout()
plt.show()</code></pre>
<div><img src="img-py/plot.png"></div>
</section>


<section data-state="plotting"><style>.plotting header:after { content: "Plotting"; }</style>

<p>A basic example:</p>
<pre><code class="python">import matplotlib.pyplot as plt
plt.plot([1,2,3,4])
plt.ylabel('some numbers')
plt.show()</code></pre>
<div><img src="img-py/simpleplot.png"></div>
</section>



<section data-state="plotting"><style>.plotting header:after { content: "Plotting"; }</style>

<p>Changing default format ('b-') to red circles ('ro'):</p>
<pre><code class="python">import matplotlib.pyplot as plt
plt.plot([1,2,3,4], [1,4,9,16], 'ro')
plt.axis([0, 6, 0, 20])
plt.show()
</code></pre>
<div><img src="img-py/reddots.png"></div>
</section>

<section data-state="plotting"><style>.plotting header:after { content: "Plotting"; }</style>

<p>We can have multiple plots in the same axes.</p>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt

t = np.arange(0., 5., 0.2)

# red dashes, blue squares and green triangles
plt.plot(t, t, 'r--', t, t**2, 'bs', t, t**3, 'g^')
plt.show()
</code></pre>
<div><img src="img-py/polplot.png" width="50%"></div>
</section>

<section data-menu-title="Plotting Exercises" data-state="plotex"><style>.plotex header:after { content: "Plotting exercises!"; }</style>

<ul>
<li>Plot the following dataset in Python. Use a blue dashed line. Don't forget to add a title and axis labels!</li>	
</ul>

<div><table>
<tbody>
<tr>
<td>&nbsp;Time (decade):&nbsp;</td>
<td>0&nbsp;</td>
<td>1&nbsp;</td>
<td>2&nbsp;</td>
<td>3&nbsp;</td>
<td>4&nbsp;</td>
<td>5&nbsp;</td>
<td>6&nbsp;</td>
</tr>
<tr>
<td>&nbsp;CO2 concentration (ppm):</td>
<td>&nbsp;250</td>
<td>265&nbsp;</td>
<td>272&nbsp;</td>
<td>260&nbsp;</td>
<td>300&nbsp;</td>
<td>320&nbsp;</td>
<td>389&nbsp;</td>
</tr>
</tbody>
</table></div>


<ul>
	<li>Repeat the multiple plots in the same figure as a few slides ago, but using the following properties:
		<ul>
			<li>y = t: XKCD definition of teal, dotted line</li>
			<li>y = t^2: Yellow, dashed line</li>
			<li>y = t^3: Magenta circles</li>
		</ul>
	</li>
</ul>
<p>A few sites that might be useful:</p>
<ul><li><a href="https://matplotlib.org/gallery/lines_bars_and_markers/line_styles_reference.html">https://matplotlib.org/gallery/lines_bars_and_markers/line_styles_reference.html</a></li>
<li><a href="https://matplotlib.org/api/colors_api.html">https://matplotlib.org/api/colors_api.html</a></li>
<li><a href="https://matplotlib.org/gallery/color/color_demo.html">https://matplotlib.org/gallery/color/color_demo.html</a></li>
<li><a href="https://xkcd.com/color/rgb/">https://xkcd.com/color/rgb/</a></li>

</ul>
</section>


<section data-state="plotex"><style>.plotex header:after { content: "Plotting exercises!"; }</style>

<p>Sample solution 1</p>
<pre><code class="python">import matplotlib.pyplot as plt
times = range(7)
co2 = [250, 265, 272, 260, 300, 320, 389]
#plt.plot(times, co2)
plt.plot(times, co2, 'b--')
plt.title("Concentration of CO2 versus time")
plt.ylabel("[CO2]")
plt.xlabel("Time (decade)")
plt.show()</code></pre>
<div><img src="img-py/sol1.png" width="50%"></div>
</section>



<section data-state="plotex"><style>.plotex header:after { content: "Plotting exercises!"; }</style>

<p>Sample solution 2</p>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt

t = np.arange(0., 5., 0.2)

plt.plot(t, t, color='xkcd:teal', linestyle=':')
plt.plot(t, t**2, 'y--', t, t**3, 'mo')
plt.show()</code></pre>
<div><img src="img-py/sol2.png" width="50%"></div>
</section>


<section data-menu-title="Numpy and Pandas" data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p><i>Pandas</i> is a data analysis/manipulation library. It operates on top of the numerical library <i>numpy</i>, so we will start by having a look at it.</p>
<pre><code class="python">>>> import numpy as np
>>> np.zeros(10)
array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])
>>> np.full((3,5),1.23)
array([[1.23, 1.23, 1.23, 1.23, 1.23],
       [1.23, 1.23, 1.23, 1.23, 1.23],
       [1.23, 1.23, 1.23, 1.23, 1.23]])
>>> np.arange(0, 20, 2)
array([ 0,  2,  4,  6,  8, 10, 12, 14, 16, 18])
>>> np.linspace(0, 1, 5)
array([0.  , 0.25, 0.5 , 0.75, 1.  ])
>>> np.random.randint(10, size=6)
array([0, 4, 1, 3, 9, 1])
>>> np.random.randint(10, size=(3,4))
array([[0, 3, 5, 7],
       [3, 4, 7, 2],
       [5, 2, 1, 0]])
>>> np.random.randint(10, size=(3,4,5))
array([[[5, 3, 2, 5, 6],
        [2, 6, 0, 2, 3],
        [3, 7, 7, 7, 5],
        [5, 1, 1, 5, 9]],

       [[5, 4, 0, 0, 1],
        [6, 4, 2, 6, 5],
        [6, 1, 7, 4, 8],
        [2, 1, 7, 9, 4]],

       [[7, 1, 9, 2, 7],
        [5, 8, 3, 3, 0],
        [6, 5, 9, 1, 4],
        [0, 4, 7, 8, 4]]])
</code></pre>
</section>


<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>Indexing and slicing work in the same way as they do for lists.</p>
<pre><code class="python">>>> x1 = np.array([4, 3, 4, 4, 8, 4])
>>> x1[0]
4
>>> x1[-2]
8
>>> x2 = np.array([[3, 7, 5, 5],
...       [0, 1, 5, 9],
...       [3, 0, 5, 0]])
>>> x2[2,3]
0
>>> x2[2,-1]
0
>>> x = np.arange(10)
>>> x[:5]
array([0, 1, 2, 3, 4])
>>> x[4:7]
array([4, 5, 6])
</code></pre>
</section>


<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>Numpy arrays can be concatenated and split in many different ways.</p>
<pre><code class="python">>>> x = np.array([1, 2, 3])
>>> y = np.array([3, 2, 1])
>>> z = [21,21,21]
>>> np.concatenate([x, y,z])
array([ 1,  2,  3,  3,  2,  1, 21, 21, 21])
>>> x = np.array([3,4,5])
>>> grid = np.array([[1,2,3],[17,18,19]])
>>> np.vstack([x,grid])
array([[ 3,  4,  5],
       [ 1,  2,  3],
       [17, 18, 19]])
>>> z = np.array([[9],[9]])
>>> np.hstack([grid,z])
array([[ 1,  2,  3,  9],
       [17, 18, 19,  9]])
>>> grid = np.arange(16).reshape((4,4))
>>> grid
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15]])
>>> upper,lower = np.vsplit(grid,[2])
>>> print (upper, lower)
(array([[0, 1, 2, 3],
       [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],
       [12, 13, 14, 15]]))
</code></pre>
</section>


<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>The main Pandas structure we will be interested in is the <i>DataFrame</i>.</p>
<pre><code class="python">import pandas as pd
data = pd.DataFrame({'Country': ['Russia','Colombia','Chile','Equador','Nigeria'],
                    'Rank':[121,40,100,130,11]})
print(data)

    Country  Rank
0    Russia   121
1  Colombia    40
2     Chile   100
3   Equador   130
4   Nigeria    11
</code></pre>
<p>A quick way of having a summary of the statistics your data set is using the <code>describe()</code> method.</p>
<pre><code class="python">data.describe()
             Rank
count    5.000000
mean    80.400000
std     52.300096
min     11.000000
25%     40.000000
50%    100.000000
75%    121.000000
max    130.000000
</code></pre>
</section>


<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>Of course, that will only give you information about the numeric fields of your dataset. If you want more general information, use <code>info()</code>.</p>
<pre><code class="python">>>> data.info()
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 5 entries, 0 to 4
Data columns (total 2 columns):
Country    5 non-null object
Rank       5 non-null int64
dtypes: int64(1), object(1)
memory usage: 160.0+ bytes
</code></pre>
<p>We can, of course, sort the data set.</p>
<pre><code class="python">>>> data.sort_values(by=['Rank'],ascending=True,inplace=False)
    Country  Rank
4   Nigeria    11
1  Colombia    40
2     Chile   100
0    Russia   121
3   Equador   130
</code></pre>
</section>


<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>You can sort by more than one column.</p>
<pre><code class="python">>>> data = pd.DataFrame({'k1':['one']*3 + ['two']*4 + ['one']*2, 'k2':[2,1,3,3,3,4,4,2,5]})
>>> data
    k1  k2
0  one   2
1  one   1
2  one   3
3  two   3
4  two   3
5  two   4
6  two   4
7  one   2
8  one   5
>>> data.sort_values(by=['k1','k2'],ascending=[True,False],inplace=False)
    k1  k2
8  one   5
2  one   3
0  one   2
7  one   2
1  one   1
5  two   4
6  two   4
3  two   3
4  two   3
</code></pre>

<p>Removing duplicates is very easy!</p>
<pre><code class="python">>>> data.drop_duplicates()
    k1  k2
0  one   2
1  one   1
2  one   3
3  two   3
5  two   4
8  one   5
</code></pre>


</section>

<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>This is how you create a new variable based on a combination of the existing ones:</p>
<pre><code class="python">>>> data.assign(new_variable = data['k2']*20)
    k1  k2  new_variable
0  one   2            40
1  one   1            20
2  one   3            60
3  two   3            60
4  two   3            60
5  two   4            80
6  two   4            80
7  one   2            40
8  one   5           100
</code></pre>
</section>


<section data-state="nppd"><style>.nppd header:after { content: "Numpy and Pandas"; }</style>

<p>Now, let's try binning some data.</p>
<pre><code class="python">data = pd.DataFrame({'names':['Alice','Bob','Charlie','Dan','Eve','Frank','Grace','Heidi','Judy','Michael','Oscar','Pat'], 'ages':[20, 22, 25, 27, 21, 23, 37, 31, 61, 45, 41, 32]})
>>> data
      names  ages
0     Alice    20
1       Bob    22
2   Charlie    25
3       Dan    27
4       Eve    21
5     Frank    23
6     Grace    37
7     Heidi    31
8      Judy    61
9   Michael    45
10    Oscar    41
11      Pat    32
>>> bins = [18, 25, 35, 60, 100]
>>> brackets = pd.cut(data['ages'],bins)
>>> brackets
0      (18, 25]
1      (18, 25]
2      (18, 25]
3      (25, 35]
4      (18, 25]
5      (18, 25]
6      (35, 60]
7      (25, 35]
8     (60, 100]
9      (35, 60]
10     (35, 60]
11     (25, 35]
Name: ages, dtype: category
Categories (4, interval[int64]): [(18, 25] < (25, 35] < (35, 60] < (60, 100]]
>>> pd.value_counts(brackets)
(18, 25]     5
(35, 60]     3
(25, 35]     3
(60, 100]    1
Name: ages, dtype: int64
</code></pre>


</section>




</div> <!-- ---------------------- END OF SLIDES -------------------------- -->


</div>
<!-- Footer -->
<img style="position:fixed;bottom:1em;right:1em;" src="img/logo_WMS.jpg" width="10%">
<!--img style="position:fixed;bottom:1em;left:1em;" src="img/logo_tw.png" width="20%"-->
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
    controls: false,
	slideNumber: true, //-- Added for development
dependencies: [
{ src: 'plugin/markdown/marked.js' },
{ src: 'plugin/markdown/markdown.js' },
{ src: 'plugin/notes/notes.js', async: true },
{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
{ src: 'plugin/menu/menu.js' }
],
menu: {
hideMissingTitles: true,
themes: false,
transitions: false,
//markers: true,
numbers: true,
openButton: false,
titleSelector: 'span.menu-title',

}
});
</script>
</body>
</html>
